import e from"./SelectMenu.3c578821.js";import{f as a,n as o,r as t,c as n,a as s,t as r,w as u,v as l,g as c,h as i,p as d,i as p,j as y,o as h}from"./vendor.e9e69801.js";var f={hiragana:{a:"あ",i:"い",u:"う",e:"え",o:"お",ka:"か",ki:"き",ku:"く",ke:"け",ko:"こ",sa:"さ",shi:"し",su:"す",se:"せ",so:"そ",ta:"た",chi:"ち",tsu:"つ",te:"て",to:"と",na:"な",ni:"に",nu:"ぬ",ne:"ね",no:"の",ha:"は",hi:"ひ",hu:"ふ",he:"へ",ho:"ほ",ma:"ま",mi:"み",mu:"む",me:"め",mo:"も",ya:"や",yu:"ゆ",yo:"よ",ra:"ら",ri:"り",ru:"る",re:"れ",ro:"ろ",wa:"わ",n:"ん",wo:"を",ga:"が",gi:"ぎ",gu:"ぐ",ge:"げ",go:"ご",za:"ざ",zu:"ず",ze:"ぜ",zo:"ぞ",da:"だ",ji:["じ","ぢ"],ceshi:["测","试","ttt"],du:"づ",de:"で",do:"ど",ba:"ば",bi:"び",bu:"ぶ",be:"べ",bo:"ぼ",pa:"ぱ",pi:"ぴ",pu:"ぷ",pe:"ぺ",po:"ぽ",kya:"きゃ",kyu:"きゅ",kyo:"きょ",sha:"しや",shu:"しゅ",sho:"しよ",cha:"ちゃ",chu:"ちゅ",cho:"ちよ",nya:"にあ",nyu:"にゆ",nyo:"によ",hya:"ひや",hyu:"ひゆ",hyo:"ひよ",mya:"みや",myu:"みゅ",myo:"みよ",rya:"りや",ryu:"りゅ",ryo:"りよ",gya:"ぎや",gyu:"ぎゅ",gyo:"ぎよ",ja:"じや",ju:"じゅ",jo:"じよ",bya:"びや",byu:"びゅ",byo:"びよ",pya:"ぴや",pyu:"ぴゅ",pyo:"ぴよ"},katakana:{"あ":"ア","い":"イ","う":"ウ","え":"エ","お":"オ","か":"カ","き":"キ","く":"ク","け":"ケ","こ":"コ","が":"ガ","ぎ":"ギ","ぐ":"グ","げ":"ゲ","ご":"ゴ","さ":"サ","し":"シ","す":"ス","せ":"セ","そ":"ソ","ざ":"ザ","じ":"ジ","ず":"ズ","ぜ":"ゼ","ぞ":"ゾ","た":"タ","ち":"チ","つ":"ツ","て":"テ","と":"ト","だ":"ダ","ぢ":"ヅ","づ":"ッ","で":"デ","ど":"ド","な":"ナ","に":"ニ","ぬ":"ヌ","ね":"ネ","の":"ノ","ま":"マ","み":"ミ","む":"ム","め":"メ","も":"モ","は":"ハ","ひ":"ヒ","ふ":"フ","へ":"ヘ","ほ":"ホ","ぱ":"パ","ぴ":"ピ","ぷ":"プ","ぺ":"ペ","ぽ":"ポ","ば":"バ","び":"ビ","ぶ":"ブ","べ":"ベ","ぼ":"ボ","ら":"ラ","り":"リ","る":"ル","れ":"レ","ろ":"ロ","や":"ヤ","ゆ":"ユ","ょ":"ヨ","ゎ":"ワ","ん":"ン"}},m={name:"输入区",components:{SelectMenu:e},setup(){const{hiragana:e,katakana:t}=f;Object.entries(e).filter((e=>e[1]instanceof Array));const n=a(""),s=a(""),r=a(null),u=a(!1),l=a({});let c=[],i=[];const d=()=>{const e=n.value.split(" ").filter((e=>!!e));console.log(getSelection()),i=e.map(((e,a)=>({key:e,value:p(e,a),wordIndex:a}))),s.value=h(i)};function p(e,a){let o=e;if(e.includes("\n")){o=e.split("\n").map((e=>y(e,a))).join("\n")}else o=y(e,a);return o}function y(a,o){if(e[a]instanceof Array){const t=c.find((e=>e.wordIndexInSentence===o));return t?a[t.selectedIndex]:`这是默认值${e[a][0]}`}return e[a]||a}const h=a=>a.map((a=>{if(e[a.key]instanceof Array){const e=c.find((e=>a.wordIndex===e.wordIndexInSentence));return(null==e?void 0:e.katakanaText)||"__ ?? __"}return a.value})).join("");return{inputStr:n,outputStr:s,textareaDom:r,showSelectMenu:u,katakanaToChoose:l,doKeyup:e=>{const a=e.code;switch(console.log("输入的键:",a),a){case"删除":break;default:d()}},doPaste:()=>{d()},doChooseWord:e=>{u.value=!1;const a=c.findIndex((a=>a.wordIndexInSentence===e.wordIndexInSentence));a>-1?c.splice(a,1,e):c.push(e),s.value=h(i),o((()=>{r.value.focus()}))}}}};const k=i();d("data-v-b509cdc6");const g={class:"hello"},v=s("div",{class:"guide-wrapper"},[s("header",{class:"guide--title"},[p("使用方法 "),s("ul",{class:"guide--box"},[s("li",null,[p("1. 手动输入 "),s("img",{src:"./assets/input_example.8890b328.gif",alt:"演示"})]),s("li",null,"2. 复制粘贴")])])],-1),b={class:"left"},x=s("p",null,[s("label",{for:"transform"},"平假名")],-1),S={class:"output-wrapper"},w={class:"center"},I=s("p",null,[s("label",{for:"transform"},"请在下方输入要转换的罗马音并以空格间隔")],-1),j={class:"right"},_=s("p",null,[s("label",{for:"transform"},"片假名")],-1),C={class:"output-wrapper"};y();const M=k(((e,a,o,i,d,p)=>{const y=t("SelectMenu");return h(),n("div",g,[v,s("section",null,[s("div",b,[x,s("pre",S,r(i.outputStr),1)]),s("div",w,[I,u(s("textarea",{class:"textarea",id:"transform",ref:"textareaDom","onUpdate:modelValue":a[1]||(a[1]=e=>i.inputStr=e),onKeyup:a[2]||(a[2]=(...e)=>i.doKeyup&&i.doKeyup(...e)),onPaste:a[3]||(a[3]=(...e)=>i.doPaste&&i.doPaste(...e))},null,544),[[l,i.inputStr]]),i.showSelectMenu?(h(),n(y,{key:0,item:i.katakanaToChoose,onChooseWord:i.doChooseWord},null,8,["item","onChooseWord"])):c("",!0)]),s("div",j,[_,s("pre",C,r(i.outputStr),1)])])])}));m.render=M,m.__scopeId="data-v-b509cdc6";export default m;
