import{f as e,g as t,h as a,i as n,n as o,w as s,v as r,c as d,F as l,j as i,k as u,o as c,t as p,r as h,a as y,l as v,m,p as x,q as k}from"./vendor.42433f01.js";var f={hiragana:{a:"あ",i:"い",u:"う",e:"え",o:"お",ka:"か",ki:"き",ku:"く",ke:"け",ko:"こ",sa:"さ",shi:"し",su:"す",se:"せ",so:"そ",ta:"た",chi:"ち",tsu:"つ",te:"て",to:"と",na:"な",ni:"に",nu:"ぬ",ne:"ね",no:"の",ha:"は",hi:"ひ",hu:"ふ",he:"へ",ho:"ほ",ma:"ま",mi:"み",mu:"む",me:"め",mo:"も",ya:"や",yu:"ゆ",yo:"よ",ra:"ら",ri:"り",ru:"る",re:"れ",ro:"ろ",wa:"わ",n:"ん",wo:"を",ga:"が",gi:"ぎ",gu:"ぐ",ge:"げ",go:"ご",za:"ざ",zu:"ず",ze:"ぜ",zo:"ぞ",da:"だ",ji:["じ","ぢ"],ceshi:["测","试","ttt"],du:"づ",de:"で",do:"ど",ba:"ば",bi:"び",bu:"ぶ",be:"べ",bo:"ぼ",pa:"ぱ",pi:"ぴ",pu:"ぷ",pe:"ぺ",po:"ぽ",kya:"きゃ",kyu:"きゅ",kyo:"きょ",sha:"しや",shu:"しゅ",sho:"しよ",cha:"ちゃ",chu:"ちゅ",cho:"ちよ",nya:"にあ",nyu:"にゆ",nyo:"によ",hya:"ひや",hyu:"ひゆ",hyo:"ひよ",mya:"みや",myu:"みゅ",myo:"みよ",rya:"りや",ryu:"りゅ",ryo:"りよ",gya:"ぎや",gyu:"ぎゅ",gyo:"ぎよ",ja:"じや",ju:"じゅ",jo:"じよ",bya:"びや",byu:"びゅ",byo:"びよ",pya:"ぴや",pyu:"ぴゅ",pyo:"ぴよ"},katakana:{"あ":"ア","い":"イ","う":"ウ","え":"エ","お":"オ","か":"カ","き":"キ","く":"ク","け":"ケ","こ":"コ","が":"ガ","ぎ":"ギ","ぐ":"グ","げ":"ゲ","ご":"ゴ","さ":"サ","し":"シ","す":"ス","せ":"セ","そ":"ソ","ざ":"ザ","じ":"ジ","ず":"ズ","ぜ":"ゼ","ぞ":"ゾ","た":"タ","ち":"チ","つ":"ツ","て":"テ","と":"ト","だ":"ダ","ぢ":"ヅ","づ":"ッ","で":"デ","ど":"ド","な":"ナ","に":"ニ","ぬ":"ヌ","ね":"ネ","の":"ノ","ま":"マ","み":"ミ","む":"ム","め":"メ","も":"モ","は":"ハ","ひ":"ヒ","ふ":"フ","へ":"ヘ","ほ":"ホ","ぱ":"パ","ぴ":"ピ","ぷ":"プ","ぺ":"ペ","ぽ":"ポ","ば":"バ","び":"ビ","ぶ":"ブ","べ":"ベ","ぼ":"ボ","ら":"ラ","り":"リ","る":"ル","れ":"レ","ろ":"ロ","や":"ヤ","ゆ":"ユ","ょ":"ヨ","ゎ":"ワ","ん":"ン"}},w=e({name:"选择平假名",props:{wordIndex:Number,item:Object},setup(e,{emit:s}){const r=t(null),d=t([0]),l=a((()=>{var t;return(null==(t=e.item)?void 0:t.value)||[]}));return n((()=>{o((()=>{var e;null==(e=r.value)||e.focus()}))})),{list:l,selectDom:r,selectedvalues:d,doKeyup:t=>{switch(t.key){case"Enter":const t=e.item.wordIndex,a=d.value[0],n=e.item.value[a];s("chooseWord",{wordIndexInSentence:t,selectedIndex:a,katakanaText:n})}},doClick:()=>{}}}});const I=u()(((e,t,a,n,o,u)=>s((c(),d("select",{class:"selectMenu--ul",ref:"selectDom",multiple:"","onUpdate:modelValue":t[1]||(t[1]=t=>e.selectedvalues=t),onKeyup:t[2]||(t[2]=(...t)=>e.doKeyup&&e.doKeyup(...t)),onClick:t[3]||(t[3]=(...t)=>e.doClick&&e.doClick(...t))},[(c(!0),d(l,null,i(e.list,((t,a)=>(c(),d("option",{class:"selectMenu--li",value:a,selected:a===e.selectedvalues},p(e.selectedvalues)+" "+p(t),9,["value","selected"])))),256))],544)),[[r,e.selectedvalues]])));w.render=I,w.__scopeId="data-v-6c1d75aa";var b={name:"输入区",components:{SelectMenu:w},methods:{async inputKey(e){if(await this.validateWord(e.data)){let t=this.inputWord.filter((e=>void 0!==e.wordIndexInArr));t.map((e=>{this.inputWord[e.index]&&(this.inputWord[e.index].index=e.index,this.inputWord[e.index].wordIndexInArr=e.wordIndexInArr,this.inputWord[e.index].value=e.value)})),this.inputWord.map(((a,n)=>{if((void 0===a.index||"deleteContentBackward"===e.inputType)&&""!==a.key)switch(Object.prototype.toString.call(this.a[a.key])){case"[object String]":return a.value=this.a[a.key],this.showRecommend=!1,a;case"[object Array]":let e=void 0!==a.index&&t[a.index].key===a.key;return void 0===a.index||e?void 0!==a.index&&e||(a.value=a.key,a.index=n,this.showRecommend=!0):(delete a.index,a.value=a.key),this.selectedIndex=a.index,a;default:return a.index&&delete a.index,a.value&&delete a.value,void 0!==a.wordIndexInArr&&delete a.wordIndexInArr,a.value=(this.a[a.key],a.key),this.showRecommend=!1,a}}))}else console.warn("不可识别的字符")},selectedText(e,t,a,n){void 0!==e&&(this.showRecommend=!1,this.inputWord[t].wordIndexInArr=a,this.inputWord[t].value=e[0]),this.$refs.textarea.focus()},validateWord:e=>new Promise((t=>{switch(e){case" ":case"deleteContentBackward":return t(!1),!1;default:t(!0)}})).catch((e=>{console.error(e)}))},setup(){const{hiragana:e,katakana:a}=f;Object.entries(e).filter((e=>e[1]instanceof Array));const n=t(""),s=t(""),r=t(null),d=t(!1),l=t({});let i=[],u=[];const c=()=>{const e=n.value.split(" ").filter((e=>!!e));console.log(getSelection()),u=e.map(((e,t)=>({key:e,value:p(e,t),wordIndex:t}))),s.value=y(u)};function p(e,t){let a=e;if(e.includes("\n")){a=e.split("\n").map((e=>h(e,t))).join("\n")}else a=h(e,t);return a}function h(t,a){if(e[t]instanceof Array){const n=i.find((e=>e.wordIndexInSentence===a));return n?t[n.selectedIndex]:`这是默认值${e[t][0]}`}return e[t]||t}const y=t=>t.map((t=>{if(e[t.key]instanceof Array){const e=i.find((e=>t.wordIndex===e.wordIndexInSentence));return(null==e?void 0:e.katakanaText)||`${__,__}`}return t.value})).join("");return{inputStr:n,outputStr:s,textareaDom:r,showSelectMenu:d,katakanaToChoose:l,doKeyup:e=>{const t=e.code;switch(console.log("输入的键:",t),t){case"删除":break;default:c()}},doPaste:()=>{c()},doChooseWord:e=>{d.value=!1;const t=i.findIndex((t=>t.wordIndexInSentence===e.wordIndexInSentence));t>-1?i.splice(t,1,e):i.push(e),s.value=y(u),o((()=>{r.value.focus()}))}}}};const g=u();x("data-v-469af010");const S={class:"hello"},W=y("header",null,[y("a",{href:"http://www.earth.sinica.edu.tw/webearth-library.../files/JP.htm",target:"_blank"},"五十音图参考表")],-1),j={class:"left"},C=y("p",null,[y("label",{for:"transform"},"平假名")],-1),A={class:"output-wrapper"},K={class:"center"},_=y("p",null,[y("label",{for:"transform"},"请在下方输入要转换的罗马音并以空格间隔")],-1),M={class:"right"},P=y("p",null,[y("label",{for:"transform"},"片假名")],-1),T={class:"output-wrapper"};k();const z=g(((e,t,a,n,o,r)=>{const l=h("SelectMenu");return c(),d("div",S,[W,y("section",null,[y("div",j,[C,y("pre",A,p(n.outputStr),1)]),y("div",K,[_,s(y("textarea",{class:"textarea",id:"transform",ref:"textareaDom","onUpdate:modelValue":t[1]||(t[1]=e=>n.inputStr=e),onKeyup:t[2]||(t[2]=(...e)=>n.doKeyup&&n.doKeyup(...e)),onPaste:t[3]||(t[3]=(...e)=>n.doPaste&&n.doPaste(...e))},null,544),[[v,n.inputStr]]),n.showSelectMenu?(c(),d(l,{key:0,item:n.katakanaToChoose,onChooseWord:n.doChooseWord},null,8,["item","onChooseWord"])):m("",!0)]),y("div",M,[P,y("pre",T,p(n.outputStr),1)])])])}));b.render=z,b.__scopeId="data-v-469af010";export default b;
